diff --git data/calculate data/calculate
index 1ad6e8d..b6ad94a 100755
--- data/calculate
+++ data/calculate
@@ -66,7 +66,8 @@ install_video_driver()
 
 # create user guest if system has not non-root user
 create_nonroot_user() {
-	if [[ -z $(variable_value cl_migrate_user | sed -r "s/[][,']|root//g") ]] &&
+	if which cl-desktop &>/dev/null &&
+	  [[ -z $(variable_value cl_migrate_user | sed -r "s/[][,']|root//g") ]] &&
 		[[  `variable_value os_install_linux_system` != "server" ]]
 	then
 		# passwd of non root user
@@ -83,16 +84,19 @@ create_nonroot_user() {
 
 # create/update all user profile
 configure_users() {
-	for user in $(variable_value cl_migrate_user | sed -r "s/[][,']//g")
-	do
-		cl-desktop $user
-	done
+	if which cl-desktop &>/dev/null
+	then
+		for user in $(variable_value cl_migrate_user | sed -r "s/[][,']//g")
+		do
+			cl-desktop $user
+		done
+	fi
 }
 
 start() {
 	install_video_driver
-	LANG=C /usr/bin/cl-install --startup
 	LANG=C create_nonroot_user
+	LANG=C /usr/bin/cl-install --startup
 	LANG=C configure_users
 
 	/usr/sbin/env-update
diff --git man/cl-install.1 man/cl-install.1
new file mode 100644
index 0000000..a843c0b
--- /dev/null
+++ man/cl-install.1
@@ -0,0 +1,226 @@
+.TH CL-INSTALL 1  "August 23, 2011" "Calculate Utilities" "Calculate Linux Installation"
+.SH NAME
+.PP
+cl-install - Installs Calculate Linux on HDD, USB-Flash or USB-HDD
+.SH SYNOPSIS
+[-d] [-w] [--mbr] [--type] [--iso] [-s] [--march] [--build] [-l] [-u] [--hostname]
+[--netconf] [--dhcp] [--ip] [--route] [--dns] [--proxy] [--ntp] [--nouuid] [--set] [-U] [-f]
+[--startup] [--install] [--uninstall] [--nospinner]
+[-P] [-p] [-v] [--filter] [--xml] [--color] [--version] [-h]
+.SH DESCRIPTION
+.PP
+cl-install  -  Calculate   Linux installation tool. It supports installing on Hard Disk Drive, external hard disk and USB-stick. Image, stored in  '/var/calculate/linux' or '/var/calculate/remote/linux' is used for installing. In case of installing from LiveCD/LiveUSB booted image is used.
+.PP
+Installation on hard disk can be done in usual mode or in interactive build mode for creating changed distribution. For installing in interactive build mode use '--build'.
+.PP
+Installation on external hard drive differs by the lack of hardware dependence.
+.PP
+By default, installing on USB-flash is done by copying of liveusb image with fat32 as a filesystem and syslinux bootloader. If needed, system can be installed with full file unpacking like installing on HDD. Use '--type' option for it.
+.SH OPTIONS
+.PP
+Options for
+\fBcl-install\fR:
+.PP
+\fB\-d\fR, \fB\-\-disk\fR \fIDISK[:[DIR:FILESYSTEM:OPTIONS]]\fR
+.RS 4
+DISK - volume for installing or directory in case of remounting the part of filesystem hierarchy. DIR - mounting point, value 'none' cancels mounting point transferring. FILESYSTEM - file system, available values: ext2, ext3, ext4, reiserfs, xfs, jfs, btrfs, nilfs2. OPTIONS - mounting options, see 'man fstab'. For multiple volumes specifying use the option required number of times.
+.RE
+.PP
+\fB\-w\fR, \fB\-\-swap\fR \fIswap volume\fR
+.RS 4
+.RE
+.PP
+\fB\-\-mbr\fR \fIboot disk\fR
+.RS 4
+Disk for  Master  Boot  Record  (MBR).  Value 'off' cancels boot record changing.
+.RE
+.PP
+\fB\-\-type\fR \fIdevice type\fR
+.RS 4
+Device type. Valid values: hdd, usb-hdd, flash.
+.RE
+.PP
+\fB\-\-iso\fR \fIpath to file\fR
+.RS 4
+Path to file, containing ISO image with distribution. If not specified, image of the same architecture is sought in '/var/calculate/linux' and '/var/calculate/remote/linux', or livecd is used in case of booting from LiveCD/LiveUSB.  At finding multiple images, priority is given to more recent version.
+.RE
+.PP
+\fB\-s\fR, \fB\-\-os\fR \fIdistribution\fR
+.RS 4
+The choice of the distribution, valid values "CDS",  "CLD",  "CLDG", "CLDX",  "CLS",  "CMC" и "CSS". If specified, required distro is sought in '/var/calculate/linux' and '/var/calculate/remote/linux'.
+.RE
+.PP
+\fB\-\-march\fR \fIarchitecture\fR
+.RS 4
+CPU's architecture choising. Valid values: "i686", "x86_64". If specified, required distro is sought in '/var/calculate/linux' and '/var/calculate/remote/linux'.
+.RE
+.PP
+\fB\-\-build\fR
+.RS 4
+Installing in interactive build mode. Is valid while installing on HDD. If specified, live image during boot will be mounted in a separate layer of aufs2 filesystem. Additional layers allow to separate changes from the results.
+.RE
+.PP
+\fB\-l\fR, \fB\-\-lang\fR \fIlanguage\fR
+.RS 4
+Language choice. Valid values: 'bg_BG' - Bulgarian, 'de_DE' -German, 'en_US' - English, 'es_ES'  -  Spanish,  'fr_FR'  - French, 'it_IT' - Italian, 'pl_PL' - Polish, 'pt_BR' - Portugal Brazilian, 'pt_PT'  -  Portugal ,  'ro_RO'  - Romanian, 'ru_RU' - Russian, 'uk_UA' - Ukrainian.
+.RE
+.PP
+\fB\-u\fR, \fB\-\-user\fR \fIuser\fR
+.RS 4
+Users added to the installed system. For adding several users use the option required number of times.
+.RE
+.PP
+\fB\-\-hostname\fR \fIhostname\fR
+.RS 4
+Short or full form of hostname.
+.RE
+.PP
+\fB\-\-netconf\fR \fInetwork manager\fR
+.RS 4
+Network manager choice. Valid values: 'openrc' and 'networkmanager'. The latter can be chosen if NetworkManager is a part of the distro.
+.RE
+.PP
+\fB\-\-dhcp\fR \fIinterface\fR
+.RS 4
+Get IP-address throw DHCP for specified interface. For specifying of two or more interfaces use the option required number of times.
+.RE
+.PP
+\fB\-\-ip\fR \fB[IFACE:]\fR\fIIP\fR
+.RS 4
+IPv4 network address with CIDR specifying. IFACE can indicate a network interface. The default IFACE value is eth0. E.g. 192.168.0.1/24. Specifying of several network interfaces is allowed.
+.RE
+.PP
+\fB\-\-route\fR NETWORK:[GATEWAY][:IFACE[:SOURCE]]
+.RS 4
+Routing rule: network, gateway, interface, source IP. For specifying default gateway, NETWORK can be set as 'default'.
+.RE
+.PP
+\fB\-\-dns\fR \fIDNS\fR
+.RS 4
+Network address of DNS server.
+.RE
+.PP
+\fB\-\-proxy\fR \fIPROXY\fR
+.RS 4
+Network address of proxy server.
+.RE
+.PP
+\fB\-\-ntp\fR \fINTP\fR
+.RS 4
+Network address of NTP timeserver.
+.RE
+.PP
+\fB\-\-nouuid\fR
+.RS 4
+Don't use UUID device names. If specified, usual device names (/dev/sda1, etc.) will be used. Use if you sure in what you do.
+.RE
+.PP
+\fB\-\-set\fR \fIVAR=VALUE\fR
+.RS 4
+Changes internal variable value of Calculate utilities. For multiple values changing use the option required number of times.
+.RE
+.PP
+\fB\-U\fR, \fB\-\-update\fR
+.RS 4
+Run install for new versions only. Handy to use with the second volume for system updating and '--force' option.
+.RE
+.PP
+\fB\-f\fR, \fB\-\-force\fR
+.RS 4
+Don't ask questions while installing.
+.RE
+.PP
+\fB\-\-startup\fR
+.RS 4
+Run configure of the current system. While running system configuration with templates is done, Calculate-utilities join to autoconfiguring of programs installed by package manager. Command is running while livecd booting or first system boot. It's possible to  restore the initial configuration of the system. With language, network, video, etc. configuring options it is possible to change system configuration.
+.RE
+.PP
+\fB\-\-install\fR
+.RS 4
+Configuring calculate-install for package configuration. Running this in Calculate  Linux leads to joining package for autoconfiguring of programs installed by package manager. Utility is run by profile.bashrc script from calculate overlay.
+.RE
+.PP
+\fB\-\-uninstall\fR
+.RS 4
+Disable package configuring by calculate-install.
+.RE
+.PP
+\fB\-\-nospinner\fR
+.RS 4
+Disable progress bar of system installing.
+.RE
+.PP
+\fB\-P\fR
+.RS 4
+Read passwords from standard input. If specified one or more users passwords are read from standard input.
+.RE
+.PP
+\fB\-p\fR, \fB\-\-show-partitions\fR
+.RS 4
+Show info about present partitions. The info, shown in table view: size, device, label, mounting point, filesystem format, type, installed system.
+.RE
+.PP
+\fB\-v\fR, \fB\-\-show-variables\fR
+.RS 4
+List environmental variables of Calculate utilities with their values and changing access flag. For full view use '-vv'
+.RE
+.PP
+\fB\-\-filter\fR \fIfilter\fR
+.RS 4
+Variable filtering. Is used with '--show-variables'. E.g.: 'cl-install -v --filter=*video*'.
+.RE
+.PP
+\fB\-\-xml\fR
+.RS 4
+Output variables in XML format. Is used with '--show-variables'.
+.RE
+.PP
+\fB\-\-color\fR \fIWHEN\fR
+.RS 4
+Color using control. WHEN can take values 'never', 'always' or 'auto' for messages output with or without color.
+.RE
+.PP
+\fB\-\-version\fR
+.RS 4
+Print version number of cl-install program and exit.
+.RE
+.PP
+\fB\-h\fR, \fB\-\-help\fR
+.RS 4
+Print help and then exit.
+.RE
+.SH SEE ALSO
+.PP
+cl-builder(1), cl-image(1)
+.SH EXAMPLES
+.PP
+System installing to /dev/sda2
+.nf
+cl-install -d /dev/sda2
+.fi
+.PP
+Changing video driver on 'fglrx'. Before running be sure 'x11-drivers/ati-drivers' is installed.
+.nf
+cl-install --startup --set os_install_x11_video_drv=fglrx
+.fi
+.PP
+System installing on several partitions. In the example system is installed on sda2, all users settings and data are stored on sda5, sda1 is used as swap.
+.nf
+cl-install -d /dev/sda2 -d /dev/sda5:/var/calculate -d /var/calculate/home:/home -w /dev/sda1 --hostname calculatelinux
+.fi
+.PP
+System installing with network options specifying: ip  address 192.168.1.20, mask   255.255.255.0, defailt gateway 192.168.1.1, DNS 192.168.1.2. As a network manager is used OpenRC.
+.nf
+cl-install -d /dev/sda2 --ip 192.168.1.20/24 --route default:192.168.1.1 --dns 192.168.1.2 --netconf openrc
+.fi
+.PP
+Router installing. In the example two network interfaces are configured,  Input  eth0:  ip address 1.2.3.6, mask 255.255.255.252, gateway 1.2.3.5  and output eth1:  ip  address 192.168.1.1, mask 255.255.255.0. DNS address 8.8.8.8. Routing to network 192.168.3.0/24 is made throw gateway 192.168.1.2.
+.nf
+cl-install -d /dev/sda2 --ip eth0:1.2.3.6/30 --route default:1.2.3.5:eth0 --ip eth1:192.168.1.1 --route 192.168.3.0/24:192.168.1.2:eth1 --dns 8.8.8.8
+.fi
+.SH AUTHORS
+.PP
+Calculate Utilities are developed by Calculate Ltd. http://www.calculate.ru
+.SH AUTOR
+.PP
+Man page originally written by Calculate Ltd.
diff --git man/ru/cl-install.1 man/ru/cl-install.1
index f6888eb..57993a7 100644
--- man/ru/cl-install.1
+++ man/ru/cl-install.1
@@ -1,4 +1,4 @@
-.TH CL-INSTALL 1  "27 июля 2011" "Calculate Utilities" "Установка Calculate Linux"
+.TH CL-INSTALL 1  "23 августа 2011" "Calculate Utilities" "Установка Calculate Linux"
 .SH НАЗВАНИЕ
 .PP
 cl-install - Установка Calculate Linux на жесткий диск, USB-Flash или USB-HDD
@@ -23,7 +23,7 @@ cl-install - программа установки дистрибутива Calc
 .PP
 \fB\-d\fR, \fB\-\-disk\fR \fIDISK[:[DIR:FILESYSTEM:OPTIONS]]\fR
 .RS 4
-DISK - раздел для установки или директория, в случае перемонтирования части файловой иерархии. DIR - точка монтирования, значение 'none' отменяет перенос точки монтирования. FILESYSTEM - файловая система, доступные значения ext2, ext3, ext4, reiserfs, xfs, jfs, btrfs. OPTIONS - опции монтирования, см. 'man fstab'. Для указания нескольких разделов для установки используйте параметр несколько раз.
+DISK - раздел для установки или директория, в случае перемонтирования части файловой иерархии. DIR - точка монтирования, значение 'none' отменяет перенос точки монтирования. FILESYSTEM - файловая система, доступные значения ext2, ext3, ext4, reiserfs, xfs, jfs, btrfs, nilfs2. OPTIONS - опции монтирования, см. 'man fstab'. Для указания нескольких разделов для установки используйте параметр несколько раз.
 .RE
 .PP
 \fB\-w\fR, \fB\-\-swap\fR \fIраздел подкачки\fR
diff --git pym/cl_distr.py pym/cl_distr.py
index 057e50d..b8775ad 100644
--- pym/cl_distr.py
+++ pym/cl_distr.py
@@ -136,7 +136,7 @@ class DistributiveRepository:
         """Get info from content"""
         origfilename = filename
         if filename in DistributiveRepository.contentCache:
-            return DistributiveRepository.contentCache[filename]
+            return DistributiveRepository.contentCache[filename].copy()
         varsShare = self.varsShare
         distr = None
         # may be directory is isodir (directory which contains iso image)
@@ -184,7 +184,7 @@ class DistributiveRepository:
         if distr:
             distr.close()
         DistributiveRepository.contentCache[origfilename] = d
-        return d
+        return d.copy()
 
     def _getdistrinfo(self,filename):
         """Get information by distributive"""
@@ -729,6 +729,7 @@ class PartitionDistributive(Distributive):
                         'jfs':'/sbin/mkfs.jfs %s -f %s',
                         'reiserfs':'/sbin/mkfs.reiserfs %s -f %s',
                         'btrfs':'/sbin/mkfs.btrfs %s %s',
+                        'nilfs2':'/sbin/mkfs.nilfs2 %s %s',
                         'xfs':'/sbin/mkfs.xfs %s -f %s',
                         'vfat':'/usr/sbin/mkfs.vfat %s -F 32 %s',
                         'ntfs-3g':'/usr/sbin/mkfs.ntfs %s -FQ %s',
@@ -739,6 +740,7 @@ class PartitionDistributive(Distributive):
                         'ext3':'-L %s',
                         'ext4':'-L %s',
                         'btrfs':'-L %s',
+                        'nilfs2':'-L %s',
                         'jfs':'-L %s',
                         'reiserfs':'-l %s',
                         'xfs':'-L %s',
@@ -752,6 +754,7 @@ class PartitionDistributive(Distributive):
                  'ext4' : '83',
                  'reiserfs' : '83',
                  'btrfs' : '83',
+                 'nilfs2' : '83',
                  'jfs' : '83',
                  'xfs' : '83',
                  'vfat' : '0b',
@@ -763,6 +766,7 @@ class PartitionDistributive(Distributive):
                     'ext4' : '0700',
                     'reiserfs' : '0700',
                     'btrfs' : '0700',
+                    'nilfs2' : '0700',
                     'jfs' : '0700',
                     'xfs' : '0700',
                     'vfat' : '0700',
diff --git pym/cl_install.py pym/cl_install.py
index 4f83b51..2358f7f 100644
--- pym/cl_install.py
+++ pym/cl_install.py
@@ -305,6 +305,10 @@ class convertDictOpt:
                               "pair":{},
                               "incompatible":[],
                               "makefs":"/sbin/mkfs.btrfs"},
+                      "nilfs2":{"options":[],
+                              "pair":{},
+                              "incompatible":[],
+                              "makefs":"/sbin/mkfs.nilfs2"},
                       "jfs":{"options":[],
                               "pair":{},
                               "incompatible":[],
@@ -1634,10 +1638,10 @@ class cl_install(color_print, SignalInterrupt):
               _("Legacy grub not support boot from raid or lvm without"
                 " separate /boot partition"))
             return False
-        if bootDiskFormat == "btrfs":
+        if bootDiskFormat in ("btrfs","nilfs2"):
             self.printERROR(
-              _("Legacy grub not support boot from btrfs without"
-                " separate /boot partition"))
+              _("Legacy grub not support boot from %s without"
+                " separate /boot partition")%bootDiskFormat)
             return False
         return True
 
diff --git pym/cl_install_cmd.py pym/cl_install_cmd.py
index 3cfa6dd..8ef2078 100644
--- pym/cl_install_cmd.py
+++ pym/cl_install_cmd.py
@@ -508,3 +508,15 @@ class install_cmd(share_cmd):
             return True
         else:
             return False
+
+    def parse_args(self, args=None, values=None):
+        """
+        Preparse for catch non option --live
+        """
+        rargs = self.optobj._get_args(args)
+        if rargs:
+            for arg in rargs:
+                if arg == "--live":
+                    self.optobj.error(_("option %s:") %"--live" +\
+                       " " + _("option is depricated, use '--startup' option"))
+        return self.optobj.parse_args(args,values)
diff --git scripts/cl-install scripts/cl-install
index 441f504..e8e572d 100644
--- scripts/cl-install
+++ scripts/cl-install
@@ -32,7 +32,7 @@ if __name__ == "__main__":
     install = install_cmd()
     install.logicObj.initVars()
     # set lang 
-    ret = install.optobj.parse_args()
+    ret = install.parse_args()
     if ret is False:
         sys.exit(1)
     options, args = ret
diff --git setup.py setup.py
index adbe1f0..b843b61 100755
--- setup.py
+++ setup.py
@@ -83,20 +83,26 @@ class build_man( distutils.core.Command ) :
     def finalize_options( self ) :
         pass
 
+    def _install_man(self,man,baseLocale):
+        baseMan = path.basename(man)
+        man_num = man[-1]
+        manPath = path.join(BUILD_MAN_PATH,baseLocale,"man%s"%man_num)
+        self.mkpath(manPath)
+        manPath = path.join(manPath,baseMan)
+        self.copy_file(man,manPath)
+        cout("compress %s\n"% manPath)
+        system("bzip2 -f %s"%manPath)
+
     def run( self ) :
         buildManPath = BUILD_MAN_PATH
         self.mkpath(buildManPath)
         for locale in glob.glob("man/*"):
             baseLocale = path.basename(locale)
-            for man in glob.glob("%s/*.[12345678]"%locale) :
-                baseMan = path.basename(man)
-                man_num = man[-1]
-                manPath = path.join(buildManPath,baseLocale,"man%s"%man_num)
-                self.mkpath(manPath)
-                manPath = path.join(manPath,baseMan)
-                self.copy_file(man,manPath)
-                cout("compress %s\n"% manPath)
-                system("bzip2 -f %s"%manPath)
+            if os.path.isfile(locale) and locale[-1].isdigit():
+                self._install_man(locale,"")
+            else:
+                for man in glob.glob("%s/*.[12345678]"%locale) :
+                    self._install_man(man,baseLocale)
 
 class install_man( install_data ) :
     description = "install man files"
